!function(e){var n={isMobile:!1,iosver:!1,checkMobile:function(){n.isMobile=!!navigator.userAgent.match(/iPad|iPhone|iPod|Android|android/g)},checkIos:function(){if(/iP(hone|od|ad)/.test(navigator.platform)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);n.iosver=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}},checkButtonCount:function(){var t=0,i=e("#social-block a");i.each(function(i){e(this).is(":visible")&&t++}),t<i.length&&i.length-t<=5&&e("#openshare").hide()},buttonsFixHref:function(){var e=document.getElementById("share-buttons");if(null!==e)for(var t=e.getElementsByTagName("a"),i=encodeURIComponent(document.title),n=encodeURIComponent(window.location.href),o=0;o<t.length;o++){var r=t[o].getAttribute("href").replace("%TITLE%",i).replace("%URI%",n);t[o].setAttribute("href",r)}},init:function(){if(n.checkMobile(),n.checkIos(),n.buttonsFixHref(),!n.isMobile||!1!==n.iosver&&n.iosver[0]<6){var e=document.getElementById("share-buttons");if(null===e)return;var t=e.getElementsByClassName("spritefont-whatsapp");if(t.length>0)for(o=0;o<t.length;o++)t[o].setAttribute("style","display:none");var i=e.getElementsByClassName("spritefont-whatsapp");if(i.length>0)for(var o=0;o<i.length;o++)i[o].setAttribute("style","display:none")}n.checkButtonCount()}};n.init();var o={isExternalLink:function(e){return e.host!==window.location.host},init:function(){for(var e=document.getElementsByTagName("main")[0].getElementsByTagName("a"),t=0;t<e.length;t++)o.isExternalLink(e[t])&&"_blank"===e[t].getAttribute("target")&&e[t].setAttribute("rel","noopener noreferrer")}};o.init();var r={open:!1,close:function(){if(!1!==r.open){var t=document.getElementById("modal");t.setAttribute("style","display:none"),this.open=!1,t.parentNode.removeChild(t),e("body").off(".modal")}},makeShareModal:function(){this.create(""),e("#share-buttons a").clone().appendTo("#modal_container"),e("#share-buttons a").removeClass("element-invisible")},create:function(t){var i="<div id='modal'><div id='modal_container'><a href='#closemodal' id='closemodal'>x</a>"+t+"</div></div>";e("body").append(i),this.open=!0,e("body").on("click.modal","#modal",function(e){r.close()})},init:function(){e("#social-block").on("click","#openshare",function(e){e.preventDefault(),r.makeShareModal()}),e("body").on("click","#closemodal",function(e){e.preventDefault(),r.close()}),e(document).keyup(function(e){27===e.keyCode&&!0===r.open&&r.close()})}};r.init(),{init:function(){e("body").on("click","#share-buttons a",function(t){t.preventDefault();var i,n,o=e(this).attr("href");e(window).width()>800?(i=screen.height/2-265,n=screen.width/2-265):(i=screen.height/.15-530/.15,n=screen.width/.15-530/.15),window.open(o,"sharer","top="+i+",left="+n+",toolbar=0,status=0,width=530,height=530"),r.close()})}}.init();var a={video:["youtube","youtu.be","vimeo","youku"],checkVideoProvider:function(e){for(i=0;i<this.video.length;i++)if(-1!==e.indexOf(this.video[i]))return!0;return!1},resizeVideo:function(){if(iframes=document.getElementsByTagName("iframe"),!(iframes.length<1)){for(i=0;i<iframes.length;i++)link=iframes[i].src,this.checkVideoProvider(link)&&(e(iframes[i]).hasClass("featured")?w=e(window).width():w=e(iframes[i]).parent().width(),e(iframes[i]).width(w).height(w/16*9));for(video=document.getElementsByTagName("video"),i=0;i<video.length;i++)w=e(video[i]).parent().width(),e(video[i]).width(w).height(w/16*9)}},resizeObjects:function(){if(objects=document.getElementsByTagName("object"),!(objects.length<1))for(i=0;i<objects.length;i++)w=jQuery(objects[i]).parent().width(),h=w/16*9,e(objects[i]).width(w).height(h),e("embed:first",objects[i]).width(w).height(h)},resizeEvent:function(){this.resizeVideo(),this.resizeObjects()}};e(window).resize(function(){t=setTimeout(function(){a.resizeEvent()},300)}),a.resizeEvent()}(jQuery);